(()=>{var e={};e.id=665,e.ids=[665],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5197:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),s(3272),s(5795),s(5866),s(2029);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3272)),"/Users/mac/Desktop/code/flulink/src/app/(auth)/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5795)),"/Users/mac/Desktop/code/flulink/src/app/(auth)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/Users/mac/Desktop/code/flulink/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mac/Desktop/code/flulink/src/app/(auth)/login/page.tsx"],m="/(auth)/login/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9753:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},1415:()=>{},6259:(e,t,s)=>{Promise.resolve().then(s.bind(s,3541))},7867:(e,t,s)=>{Promise.resolve().then(s.bind(s,1439))},3541:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(326);function r({children:e}){return a.jsx("div",{className:"min-h-screen bg-primary-bg",children:e})}s(7577)},1439:(e,t,s)=>{"use strict";s.r(t),s.d(t,{LoginPage:()=>c,default:()=>o});var a=s(326),r=s(7577),n=s(2068),l=s(1223),i=s(8551);let c=({onLoginSuccess:e,onSwitchToRegister:t})=>{let[s,c]=(0,r.useState)({email:"",password:""}),[o,d]=(0,r.useState)({}),[m,x]=(0,r.useState)(!1),u=(e,t)=>{c(s=>({...s,[e]:t})),o[e]&&d(t=>({...t,[e]:""}))},h=()=>{let e={};return s.email?(0,l.vV)(s.email)||(e.email="请输入有效的邮箱地址"):e.email="请输入邮箱",s.password||(e.password="请输入密码"),d(e),0===Object.keys(e).length},p=async t=>{if(t.preventDefault(),h())try{x(!0);let t=await i.h.login(s.email,s.password);e(t)}catch(e){console.error("登录失败:",e),d({general:e.message||"登录失败，请检查邮箱和密码"})}finally{x(!1)}};return a.jsx("div",{className:"min-h-screen bg-primary-bg flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold gradient-text-gold mb-2",children:"FluLink"}),a.jsx("p",{className:"text-text-secondary",children:"星尘共鸣版 v4.0"})]}),a.jsx(n.Zb,{children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6 text-center",children:"登录账户"}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[a.jsx(n.II,{label:"邮箱",type:"email",value:s.email,onChange:e=>u("email",e.target.value),error:o.email,placeholder:"请输入邮箱地址",icon:a.jsx("i",{className:"fas fa-envelope"}),disabled:m}),a.jsx(n.II,{label:"密码",type:"password",value:s.password,onChange:e=>u("password",e.target.value),error:o.password,placeholder:"请输入密码",icon:a.jsx("i",{className:"fas fa-lock"}),disabled:m}),o.general&&a.jsx("div",{className:"text-accent-red text-sm text-center",children:o.general}),a.jsx(n.zx,{type:"submit",className:"w-full",loading:m,disabled:m,children:m?a.jsx(n.gb,{size:"sm"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"登录"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-text-secondary text-sm",children:["还没有账户？",a.jsx("button",{onClick:t,className:"text-accent-gold hover:text-accent-cyan transition-colors ml-1",children:"立即注册"})]})})]})}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl mb-2",children:a.jsx("i",{className:"fas fa-star text-accent-gold"})}),a.jsx("div",{className:"text-sm text-text-secondary",children:"星空图谱"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl mb-2",children:a.jsx("i",{className:"fas fa-robot text-accent-cyan"})}),a.jsx("div",{className:"text-sm text-text-secondary",children:"AI 创作"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl mb-2",children:a.jsx("i",{className:"fas fa-users text-accent-purple"})}),a.jsx("div",{className:"text-sm text-text-secondary",children:"星团共鸣"})]})]})]})})};function o(){return a.jsx(c,{onLoginSuccess:e=>{},onSwitchToRegister:()=>{}})}},2068:(e,t,s)=>{"use strict";s.d(t,{II:()=>l,Vp:()=>m,Zb:()=>c,gb:()=>d,gx:()=>i,qE:()=>x,u_:()=>o,zx:()=>n});var a=s(326);s(7577);var r=s(1223);let n=({variant:e="primary",size:t="md",loading:s=!1,className:n,children:l,disabled:i,...c})=>a.jsx("button",{className:(0,r.cn)("font-semibold rounded-xl transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-accent-gold disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",{primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",ghost:"text-text-primary hover:text-accent-gold hover:bg-primary-card px-4 py-2 rounded-xl"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-6 py-3",lg:"px-8 py-4 text-lg"}[t],n),disabled:i||s,...c,children:s?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"loading-spinner w-4 h-4"}),a.jsx("span",{children:"加载中..."})]}):l}),l=({label:e,error:t,icon:s,className:n,...l})=>(0,a.jsxs)("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:e}),(0,a.jsxs)("div",{className:"relative",children:[s&&a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary",children:s}),a.jsx("input",{className:(0,r.cn)("input-field w-full",s?"pl-10":"",t?"ring-2 ring-accent-red":"",n),...l})]}),t&&a.jsx("p",{className:"mt-1 text-sm text-accent-red",children:t})]}),i=({label:e,error:t,className:s,...n})=>(0,a.jsxs)("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:e}),a.jsx("textarea",{className:(0,r.cn)("input-field w-full min-h-[100px] resize-vertical",t?"ring-2 ring-accent-red":"",s),...n}),t&&a.jsx("p",{className:"mt-1 text-sm text-accent-red",children:t})]}),c=({children:e,className:t,hover:s=!0,glass:n=!1})=>a.jsx("div",{className:(0,r.cn)("neumorphism-card",n?"glass-effect":"",s?"hover:transform hover:-translate-y-1 hover:shadow-neumorphism-hover":"",t),children:e}),o=({isOpen:e,onClose:t,title:s,children:n,size:l="md"})=>e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,a.jsxs)("div",{className:(0,r.cn)("relative w-full bg-primary-card rounded-2xl shadow-2xl",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[l]),children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[a.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:s}),a.jsx("button",{onClick:t,className:"text-text-secondary hover:text-accent-gold transition-colors",children:a.jsx("i",{className:"fas fa-times text-xl"})})]}),a.jsx("div",{className:"p-6",children:n})]})]}):null,d=({size:e="md",text:t="加载中..."})=>(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[a.jsx("div",{className:(0,r.cn)("loading-spinner",{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e])}),t&&a.jsx("p",{className:"text-text-secondary text-sm",children:t})]}),m=({children:e,variant:t="default",size:s="md",className:n})=>a.jsx("span",{className:(0,r.cn)("inline-flex items-center rounded-lg font-medium",{default:"bg-primary-card text-text-primary",gold:"bg-gradient-gold text-black",red:"bg-accent-red text-white",purple:"bg-accent-purple text-white",cyan:"bg-accent-cyan text-white"}[t],{sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm"}[s],n),children:e}),x=({src:e,alt:t="头像",size:s="md",fallback:n,className:l})=>a.jsx("div",{className:(0,r.cn)("rounded-full overflow-hidden bg-gradient-gold flex items-center justify-center",{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"}[s],l),children:e?a.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-black font-semibold",children:n||t.charAt(0).toUpperCase()})})},8551:(e,t,s)=>{"use strict";s.d(t,{h:()=>n,pb:()=>a});let a=new(s(4599)).ZP(process.env.NEXT_PUBLIC_POCKETBASE_URL||"https://pocketbase-final.zeabur.app");class r{async getCurrentUser(){try{return a.authStore.model}catch{return null}}async login(e,t){return(await a.collection("users").authWithPassword(e,t)).record}async register(e,t,s){return await a.collection("users").create({username:e,email:t,password:s,passwordConfirm:s})}async getStarSeeds(e=1,t=20){return(await a.collection("star_seeds").getList(e,t,{sort:"-created",expand:"creator"})).items}async createStarSeed(e){return await a.collection("star_seeds").create(e)}async getStarSeed(e){return await a.collection("star_seeds").getOne(e,{expand:"creator"})}async getStarClusters(e=1,t=20){return(await a.collection("star_clusters").getList(e,t,{sort:"-resonance_score",expand:"members,core_users"})).items}async createStarCluster(e){return await a.collection("star_clusters").create(e)}async createInteraction(e){return await a.collection("interactions").create(e)}async getInteractions(e){return(await a.collection("interactions").getList(1,50,{filter:`star_seed = "${e}"`,expand:"user"})).items}subscribeToStarSeeds(e){return a.collection("star_seeds").subscribe("*",t=>{e(t.record)})}subscribeToInteractions(e){return a.collection("interactions").subscribe("*",t=>{e(t.record)})}}let n=new r},1223:(e,t,s)=>{"use strict";s.d(t,{Ox:()=>o,cL:()=>c,cn:()=>n,p6:()=>l,uf:()=>i,uo:()=>m,vV:()=>d});var a=s(1135),r=s(1009);function n(...e){return(0,r.m6)((0,a.W)(e))}function l(e){let t=new Date(e),s=new Date().getTime()-t.getTime();return s<6e4?"刚刚":s<36e5?`${Math.floor(s/6e4)}分钟前`:s<864e5?`${Math.floor(s/36e5)}小时前`:s<6048e5?`${Math.floor(s/864e5)}天前`:t.toLocaleDateString("zh-CN")}function i(e){return e<1e3?e.toString():e<1e4?`${(e/1e3).toFixed(1)}K`:e<1e6?`${(e/1e4).toFixed(1)}万`:`${(e/1e6).toFixed(1)}M`}function c(e,t,s,a){let r=(s-e)*Math.PI/180,n=(a-t)*Math.PI/180,l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371}function o(e=8){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="";for(let a=0;a<e;a++)s+=t.charAt(Math.floor(Math.random()*t.length));return s}function d(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function m(e){if(e.length<6)return{isValid:!1,strength:"weak",message:"密码长度至少6位"};let t=/[a-z]/.test(e),s=[t,/[A-Z]/.test(e),/\d/.test(e),/[!@#$%^&*(),.?":{}|<>]/.test(e)].filter(Boolean).length;return s<2?{isValid:!1,strength:"weak",message:"密码强度太弱，请包含字母和数字"}:s<3?{isValid:!0,strength:"medium",message:"密码强度中等"}:{isValid:!0,strength:"strong",message:"密码强度很强"}}},5795:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/Users/mac/Desktop/code/flulink/src/app/(auth)/layout.tsx#default`)},3272:(e,t,s)=>{"use strict";s.r(t),s.d(t,{LoginPage:()=>r,default:()=>n});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/mac/Desktop/code/flulink/src/app/(auth)/login/page.tsx#LoginPage`),n=(0,a.createProxy)(String.raw`/Users/mac/Desktop/code/flulink/src/app/(auth)/login/page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>l,viewport:()=>i});var a=s(9510),r=s(5317),n=s.n(r);s(5023);let l={title:"FluLink 星尘共鸣版 v4.0",description:"基于 AI Agent 驱动的下一代异步社交平台，通过智能传播算法实现内容的高效精准分发",keywords:["AI","社交平台","智能传播","向量检索","星尘共鸣"],authors:[{name:"FluLink Team"}]},i={width:"device-width",initialScale:1,themeColor:"#0a0a1a"};function c({children:e}){return a.jsx("html",{lang:"zh-CN",children:a.jsx("body",{className:`${n().className} bg-primary-bg text-text-primary`,children:e})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,347,325,599],()=>s(5197));module.exports=a})();