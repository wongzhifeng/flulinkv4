"use strict";(()=>{var t={};t.id=807,t.ids=[807],t.modules={399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8598:(t,e,a)=>{a.r(e),a.d(e,{originalPathname:()=>m,patchFetch:()=>y,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var n={};a.r(n),a.d(n,{GET:()=>l,POST:()=>c});var i=a(9303),r=a(8716),o=a(670),s=a(7070);let p=new(a(2660)).uN;async function c(t){try{let{action:e,data:a}=await t.json();switch(e){case"propagation-path":let n=await p.propagationAgent.calculatePropagationPath(a.seed,a.context);return s.NextResponse.json(n);case"propagation-potential":let i=await p.propagationAgent.predictPropagationPotential(a.seed);return s.NextResponse.json({potential:i});case"similar-users":let r=await p.matchingAgent.findSimilarUsers(a.seedVector,a.userPool,a.topK);return s.NextResponse.json({similarUsers:r});case"user-compatibility":let o=await p.matchingAgent.calculateUserCompatibility(a.user1,a.user2);return s.NextResponse.json({compatibility:o});case"analyze-content":let c=await p.contentAgent.analyzeContent(a.content);return s.NextResponse.json(c);case"content-vector":let l=await p.contentAgent.generateContentVector(a.content);return s.NextResponse.json({vector:l});case"spectral-tags":let u=await p.contentAgent.extractSpectralTags(a.content);return s.NextResponse.json({tags:u});case"optimize-path":let d=await p.optimizationAgent.optimizePropagationPath(a.path);return s.NextResponse.json(d);case"optimal-timing":let h=await p.optimizationAgent.calculateOptimalTiming(a.seed,a.users);return s.NextResponse.json({timing:h});default:return s.NextResponse.json({error:"Unknown action"},{status:400})}}catch(t){return console.error("AgentRouter API Error:",t),s.NextResponse.json({error:"Internal server error"},{status:500})}}async function l(){return s.NextResponse.json({status:"ok",service:"agentrouter-api",timestamp:new Date().toISOString()})}let u=new i.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/agentrouter/route",pathname:"/api/agentrouter",filename:"route",bundlePath:"app/api/agentrouter/route"},resolvedPagePath:"/Users/mac/Desktop/code/flulink/src/app/api/agentrouter/route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:h,serverHooks:g}=u,m="/api/agentrouter/route";function y(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}},2660:(t,e,a)=>{a.d(e,{uN:()=>n});class n{constructor(t=process.env.NEXT_PUBLIC_AI_SERVICE_URL||"http://localhost:8000"){this.propagationAgent={async calculatePropagationPath(t,e){return(await fetch(`${this.aiServiceUrl}/api/ai/optimize-propagation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({star_seed:t,context:e})})).json()},async predictPropagationPotential(t){let e=await fetch(`${this.aiServiceUrl}/api/ai/predict-potential`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({star_seed:t})});return(await e.json()).potential_score}},this.matchingAgent={async findSimilarUsers(t,e,a=10){let n=await fetch(`${this.aiServiceUrl}/api/ai/find-similar-users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seed_vector:t,user_pool:e.map(t=>({id:t.id,interest_vector:t.interest_vector})),limit:a})});return(await n.json()).similar_users},async calculateUserCompatibility(t,e){let a=await fetch(`${this.aiServiceUrl}/api/ai/calculate-compatibility`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user1:t,user2:e})});return(await a.json()).compatibility_score}},this.contentAgent={async analyzeContent(t){return(await fetch(`${this.aiServiceUrl}/api/ai/analyze-content`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})})).json()},async generateContentVector(t){let e=await fetch(`${this.aiServiceUrl}/api/ai/embed-text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});return(await e.json()).vector},async extractSpectralTags(t){let e=await fetch(`${this.aiServiceUrl}/api/ai/extract-tags`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})});return(await e.json()).tags}},this.optimizationAgent={async optimizePropagationPath(t){return(await fetch(`${this.aiServiceUrl}/api/ai/optimize-path`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:t})})).json()},async calculateOptimalTiming(t,e){let a=await fetch(`${this.aiServiceUrl}/api/ai/calculate-timing`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seed:t,users:e})});return(await a.json()).optimal_times.map(t=>new Date(t))}},this.aiServiceUrl=t}}new n}};var e=require("../../../webpack-runtime.js");e.C(t);var a=t=>e(e.s=t),n=e.X(0,[948,972],()=>a(8598));module.exports=n})();