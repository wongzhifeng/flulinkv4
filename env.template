# FluLink AI-Native 环境变量配置
# 基于《德道经》"无为而治"哲学，确保配置的完整性和一致性

# =============================================================================
# 核心服务配置
# =============================================================================

# PocketBase 配置
PB_ENCRYPTION_KEY=your-32-character-encryption-key-here
PB_ADMIN_EMAIL=admin@flulink.app
PB_ADMIN_PASSWORD=Flulink2025!Admin
PUBLIC_URL=https://your-app.zeabur.app

# AI Agent 配置
CONTEXT7_API_KEY=ctx7sk-3eff1f70-bd18-43af-955d-c2a3f0f94f45
DEEPSEEK_API_KEY=your-deepseek-api-key-here

# =============================================================================
# 服务URL配置
# =============================================================================

# 生产环境服务URL
POCKETBASE_URL=https://pocketbase-your-app.zeabur.app
AI_AGENT_URL=https://ai-agent-your-app.zeabur.app
CHROMA_URL=https://chroma-your-app.zeabur.app

# 开发环境服务URL (本地)
# POCKETBASE_URL=http://localhost:8090
# AI_AGENT_URL=http://localhost:8000
# CHROMA_URL=http://localhost:8001

# =============================================================================
# 前端环境变量 (NEXT_PUBLIC_* 会暴露给浏览器)
# =============================================================================

NEXT_PUBLIC_POCKETBASE_URL=https://pocketbase-your-app.zeabur.app
NEXT_PUBLIC_AI_AGENT_URL=https://ai-agent-your-app.zeabur.app
NEXT_PUBLIC_CHROMA_URL=https://chroma-your-app.zeabur.app
NEXT_PUBLIC_APP_URL=https://your-app.zeabur.app

# =============================================================================
# 数据库配置
# =============================================================================

# PocketBase 数据库
PB_DATABASE_URL=sqlite:///pb_data/data.db

# Chroma 向量数据库
CHROMA_PERSIST_DIRECTORY=/chroma/chroma

# =============================================================================
# 安全配置
# =============================================================================

# JWT 密钥
JWT_SECRET=your-jwt-secret-key-here

# CORS 配置
CORS_ORIGINS=https://your-app.zeabur.app,http://localhost:3000

# =============================================================================
# 监控和日志
# =============================================================================

# 日志级别
LOG_LEVEL=info

# 监控端点
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# 性能优化
# =============================================================================

# 缓存配置
REDIS_URL=redis://localhost:6379
CACHE_TTL=300

# 并发配置
MAX_WORKERS=4
WORKER_TIMEOUT=30

# =============================================================================
# 开发环境配置
# =============================================================================

# 开发模式
NODE_ENV=development
DEBUG=true

# 热重载
WATCH_MODE=true

# =============================================================================
# 生产环境配置
# =============================================================================

# 生产模式
# NODE_ENV=production
# DEBUG=false

# 性能优化
# ENABLE_COMPRESSION=true
# ENABLE_CACHING=true

# =============================================================================
# 德道经规则配置
# =============================================================================

# 传播层级配置
SPREAD_COMMUNITY_DELAY=0
SPREAD_NEIGHBORHOOD_DELAY=30
SPREAD_STREET_DELAY=120
SPREAD_CITY_DELAY=480

# 感染阈值配置
INFECTION_COMMUNITY_THRESHOLD=0.1
INFECTION_NEIGHBORHOOD_THRESHOLD=0.2
INFECTION_STREET_THRESHOLD=0.4
INFECTION_CITY_THRESHOLD=0.6

# 毒性阈值配置
TOXICITY_SUPER_SPREAD=7.5
TOXICITY_HIGH_VIRULENCE=6.0
TOXICITY_MODERATE=4.0
TOXICITY_LOW=2.0

# =============================================================================
# 用户等级配置
# =============================================================================

# 免费用户配置
FREE_USER_SPREAD_RANGE=community
FREE_USER_IMMUNITY_POWER=1.0

# 付费用户配置
PREMIUM_USER_SPREAD_RANGE=community,neighborhood
PREMIUM_USER_IMMUNITY_POWER=1.5

# 企业用户配置
ENTERPRISE_USER_SPREAD_RANGE=community,neighborhood,street,city
ENTERPRISE_USER_IMMUNITY_POWER=2.0
