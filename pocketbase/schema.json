{
  "collections": [
    {
      "id": "users",
      "name": "users",
      "type": "auth",
      "system": false,
      "schema": [
        {
          "id": "username",
          "name": "username",
          "type": "text",
          "required": true,
          "presentable": true,
          "unique": false,
          "options": {
            "min": 3,
            "max": 20,
            "pattern": "^[a-zA-Z0-9_]+$"
          }
        },
        {
          "id": "avatar",
          "name": "avatar",
          "type": "file",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "maxSize": 5242880,
            "mimeTypes": ["image/jpeg", "image/png", "image/gif", "image/webp"],
            "thumbs": ["100x100"]
          }
        },
        {
          "id": "location",
          "name": "location",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "interest_vector",
          "name": "interest_vector",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "interaction_history",
          "name": "interaction_history",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "privacy_settings",
          "name": "privacy_settings",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "ai_preferences",
          "name": "ai_preferences",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_users_username ON users (username)",
        "CREATE INDEX idx_users_location ON users (location)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "",
      "updateRule": "@request.auth.id = id",
      "deleteRule": "@request.auth.id = id"
    },
    {
      "id": "star_seeds",
      "name": "star_seeds",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "creator",
          "name": "creator",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": ["username"]
          }
        },
        {
          "id": "content",
          "name": "content",
          "type": "text",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 1,
            "max": 5000,
            "pattern": ""
          }
        },
        {
          "id": "content_type",
          "name": "content_type",
          "type": "select",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["text", "image", "audio", "mixed"]
          }
        },
        {
          "id": "media_files",
          "name": "media_files",
          "type": "file",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 5,
            "maxSize": 52428800,
            "mimeTypes": ["image/jpeg", "image/png", "image/gif", "image/webp", "audio/mpeg", "audio/wav", "video/mp4"],
            "thumbs": ["200x200"]
          }
        },
        {
          "id": "location",
          "name": "location",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "content_vector",
          "name": "content_vector",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "spectral_tags",
          "name": "spectral_tags",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "luminosity",
          "name": "luminosity",
          "type": "number",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 100,
            "noDecimal": false
          }
        },
        {
          "id": "resonance_count",
          "name": "resonance_count",
          "type": "number",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": null,
            "noDecimal": true
          }
        },
        {
          "id": "propagation_path",
          "name": "propagation_path",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "status",
          "name": "status",
          "type": "select",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["active", "dormant", "archived"]
          }
        },
        {
          "id": "ai_generated_metadata",
          "name": "ai_generated_metadata",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_star_seeds_creator ON star_seeds (creator)",
        "CREATE INDEX idx_star_seeds_status ON star_seeds (status)",
        "CREATE INDEX idx_star_seeds_luminosity ON star_seeds (luminosity)",
        "CREATE INDEX idx_star_seeds_created ON star_seeds (created)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "@request.auth.id != \"\"",
      "updateRule": "@request.auth.id = creator",
      "deleteRule": "@request.auth.id = creator"
    },
    {
      "id": "star_clusters",
      "name": "star_clusters",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "members",
          "name": "members",
          "type": "relation",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 49,
            "displayFields": ["username"]
          }
        },
        {
          "id": "core_users",
          "name": "core_users",
          "type": "relation",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 2,
            "displayFields": ["username"]
          }
        },
        {
          "id": "resonance_score",
          "name": "resonance_score",
          "type": "number",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 100,
            "noDecimal": false
          }
        },
        {
          "id": "geographic_center",
          "name": "geographic_center",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "activity_level",
          "name": "activity_level",
          "type": "number",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 100,
            "noDecimal": false
          }
        },
        {
          "id": "spectral_diversity",
          "name": "spectral_diversity",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "expiration_time",
          "name": "expiration_time",
          "type": "date",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "min": "",
            "max": ""
          }
        },
        {
          "id": "cluster_vector",
          "name": "cluster_vector",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_star_clusters_resonance ON star_clusters (resonance_score)",
        "CREATE INDEX idx_star_clusters_expiration ON star_clusters (expiration_time)",
        "CREATE INDEX idx_star_clusters_activity ON star_clusters (activity_level)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "@request.auth.id != \"\"",
      "updateRule": "@request.auth.id != \"\"",
      "deleteRule": "@request.auth.id != \"\""
    },
    {
      "id": "interactions",
      "name": "interactions",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "user",
          "name": "user",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": ["username"]
          }
        },
        {
          "id": "star_seed",
          "name": "star_seed",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "star_seeds",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": ["content"]
          }
        },
        {
          "id": "interaction_type",
          "name": "interaction_type",
          "type": "select",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["view", "like", "comment", "share", "resonate"]
          }
        },
        {
          "id": "interaction_strength",
          "name": "interaction_strength",
          "type": "number",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 1,
            "max": 10,
            "noDecimal": true
          }
        },
        {
          "id": "context_data",
          "name": "context_data",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "ai_analyzed_sentiment",
          "name": "ai_analyzed_sentiment",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_interactions_user ON interactions (user)",
        "CREATE INDEX idx_interactions_star_seed ON interactions (star_seed)",
        "CREATE INDEX idx_interactions_type ON interactions (interaction_type)",
        "CREATE INDEX idx_interactions_created ON interactions (created)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "@request.auth.id != \"\"",
      "updateRule": "@request.auth.id = user",
      "deleteRule": "@request.auth.id = user"
    }
  ]
}

