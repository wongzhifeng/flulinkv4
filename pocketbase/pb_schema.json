{
  "collections": [
    {
      "id": "users",
      "name": "users",
      "type": "auth",
      "system": false,
      "schema": [
        {
          "id": "username",
          "name": "username",
          "type": "text",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 2,
            "max": 50,
            "pattern": "^[a-zA-Z0-9_\\-]+$"
          }
        },
        {
          "id": "email",
          "name": "email",
          "type": "email",
          "required": true,
          "presentable": false,
          "unique": true,
          "options": {
            "exceptDomains": null,
            "onlyDomains": null
          }
        },
        {
          "id": "avatar",
          "name": "avatar",
          "type": "file",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "mimeTypes": ["image/jpeg", "image/png", "image/gif"],
            "thumbs": ["100x100"],
            "maxSelect": 1,
            "maxSize": 5242880,
            "protected": false
          }
        },
        {
          "id": "user_level",
          "name": "user_level",
          "type": "select",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["free", "premium", "enterprise"]
          }
        },
        {
          "id": "location_data",
          "name": "location_data",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "immunity_profile",
          "name": "immunity_profile",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "interest_vector",
          "name": "interest_vector",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "interaction_history",
          "name": "interaction_history",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "privacy_settings",
          "name": "privacy_settings",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "ai_preferences",
          "name": "ai_preferences",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_users_user_level ON users (user_level)",
        "CREATE INDEX idx_users_location ON users (location_data)",
        "CREATE INDEX idx_users_created ON users (created)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "@request.auth.id != \"\"",
      "updateRule": "@request.auth.id = id",
      "deleteRule": "@request.auth.id = id"
    },
    {
      "id": "strains",
      "name": "strains",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "creator",
          "name": "creator",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": ["username"]
          }
        },
        {
          "id": "content",
          "name": "content",
          "type": "text",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 1,
            "max": 5000,
            "pattern": ""
          }
        },
        {
          "id": "content_type",
          "name": "content_type",
          "type": "select",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["text", "image", "audio", "mixed"]
          }
        },
        {
          "id": "media_files",
          "name": "media_files",
          "type": "file",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "mimeTypes": ["image/jpeg", "image/png", "image/gif", "audio/mpeg", "audio/wav"],
            "thumbs": ["100x100"],
            "maxSelect": 10,
            "maxSize": 10485760,
            "protected": false
          }
        },
        {
          "id": "location",
          "name": "location",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "content_vector",
          "name": "content_vector",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "spectral_tags",
          "name": "spectral_tags",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "toxicity_score",
          "name": "toxicity_score",
          "type": "number",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 10,
            "noDecimal": false
          }
        },
        {
          "id": "luminosity",
          "name": "luminosity",
          "type": "number",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 100,
            "noDecimal": false
          }
        },
        {
          "id": "resonance_count",
          "name": "resonance_count",
          "type": "number",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": null,
            "noDecimal": false
          }
        },
        {
          "id": "current_spread_level",
          "name": "current_spread_level",
          "type": "select",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["community", "neighborhood", "street", "city"]
          }
        },
        {
          "id": "propagation_path",
          "name": "propagation_path",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "status",
          "name": "status",
          "type": "select",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["active", "dormant", "archived"]
          }
        },
        {
          "id": "ai_generated_metadata",
          "name": "ai_generated_metadata",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_strains_creator ON strains (creator)",
        "CREATE INDEX idx_strains_toxicity ON strains (toxicity_score)",
        "CREATE INDEX idx_strains_spread_level ON strains (current_spread_level)",
        "CREATE INDEX idx_strains_status ON strains (status)",
        "CREATE INDEX idx_strains_created ON strains (created)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "@request.auth.id != \"\"",
      "updateRule": "@request.auth.id = creator",
      "deleteRule": "@request.auth.id = creator"
    },
    {
      "id": "infections",
      "name": "infections",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "user",
          "name": "user",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": ["username"]
          }
        },
        {
          "id": "strain",
          "name": "strain",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "strains",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": ["content"]
          }
        },
        {
          "id": "infected_at",
          "name": "infected_at",
          "type": "date",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": "",
            "max": ""
          }
        },
        {
          "id": "geo_hierarchy",
          "name": "geo_hierarchy",
          "type": "select",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSelect": 1,
            "values": ["community", "neighborhood", "street", "city"]
          }
        },
        {
          "id": "infection_strength",
          "name": "infection_strength",
          "type": "number",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 10,
            "noDecimal": false
          }
        },
        {
          "id": "context_data",
          "name": "context_data",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "ai_analyzed_sentiment",
          "name": "ai_analyzed_sentiment",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_infections_user ON infections (user)",
        "CREATE INDEX idx_infections_strain ON infections (strain)",
        "CREATE INDEX idx_infections_geo ON infections (geo_hierarchy)",
        "CREATE INDEX idx_infections_date ON infections (infected_at)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "@request.auth.id != \"\"",
      "updateRule": "@request.auth.id = user",
      "deleteRule": "@request.auth.id = user"
    },
    {
      "id": "star_clusters",
      "name": "star_clusters",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "members",
          "name": "members",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": 1,
            "maxSelect": 100,
            "displayFields": ["username"]
          }
        },
        {
          "id": "core_users",
          "name": "core_users",
          "type": "relation",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "collectionId": "users",
            "cascadeDelete": false,
            "minSelect": 1,
            "maxSelect": 10,
            "displayFields": ["username"]
          }
        },
        {
          "id": "resonance_score",
          "name": "resonance_score",
          "type": "number",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 100,
            "noDecimal": false
          }
        },
        {
          "id": "geographic_center",
          "name": "geographic_center",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "activity_level",
          "name": "activity_level",
          "type": "number",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": 0,
            "max": 100,
            "noDecimal": false
          }
        },
        {
          "id": "spectral_diversity",
          "name": "spectral_diversity",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        },
        {
          "id": "expiration_time",
          "name": "expiration_time",
          "type": "date",
          "required": true,
          "presentable": false,
          "unique": false,
          "options": {
            "min": "",
            "max": ""
          }
        },
        {
          "id": "cluster_vector",
          "name": "cluster_vector",
          "type": "json",
          "required": false,
          "presentable": false,
          "unique": false,
          "options": {
            "maxSize": 2000000
          }
        }
      ],
      "indexes": [
        "CREATE INDEX idx_clusters_resonance ON star_clusters (resonance_score)",
        "CREATE INDEX idx_clusters_activity ON star_clusters (activity_level)",
        "CREATE INDEX idx_clusters_expiration ON star_clusters (expiration_time)"
      ],
      "listRule": "@request.auth.id != \"\"",
      "viewRule": "@request.auth.id != \"\"",
      "createRule": "@request.auth.id != \"\"",
      "updateRule": "@request.auth.id != \"\"",
      "deleteRule": "@request.auth.id != \"\""
    }
  ]
}
